loop over path

check if hit end or not